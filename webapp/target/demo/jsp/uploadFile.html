<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <script type="text/css" src="../js/uploadify.css"></script>
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/jquery.uploadify.min.js"></script>
    <script type="text/javascript" src="../js/jquery.uploadify.js"></script>
</head>

<body >

<style type="text/css">

</style>

<div class="place">
    <span>位置：</span>
    <ul class="placeul">
        <li><a href="#">管理信息</a></li>
        <li><a href="#">上传文测试</a></li>
    </ul>
</div>
<div class="mybody">
    <div class="bodymain">

        <fieldset style="border: 1px dashed darkgray; width:900px; padding-left: 20px; padding-top: 20px; margin-bottom: 20px;">
            <legend>文件上传</legend>
            <div>
                <label for="app">app：</label>
                <input type="text"  id="app" class="dfinput3" />
            </div>

        </fieldset>

    </div>

    <div>
        <input id="uploadify" type="file" name="uploadify"/>
        <a href="javascript:$('#uploadify').uploadify('upload','*')">上传</a>|
        <a href="javascript:$('#uploadify').uploadify('cancel')">取消上传</a>
    </div>
</div>


</body>

</html>

<script type="text/javascript">


    $(function() {
        setTimeout(function(){
            $("#uploadify").uploadify({
                swf: '../uploadify/uploadify.swf',//uploadify.swf 文件的路径（绝对路径、相对路径都可以）
                uploader: 'https:showcase.simba.taobao.com/nrs/upload.json',//服务器响应地址
                cancelImg: '../uploadify/uploadify-cancel.png',//关闭按钮图片路径
                fileObjName:'file',
                multi: true,//是否多文件
                auto:false,//是否自动上传，true，选择文件后上传，false，点击上传开始上传，默认true
                buttonText: "上传文件",//空间名称
                preventCaching: false,//是否缓存
                fileSizeLimit: 1024 * 1024 * 10,//单个文件限制大小
                fileTypeDesc: '*.txt;*.xls;*.csv;*.pdf;',//文件后缀描述
                fileTypeExts: '*.txt;*.xls;*.csv;*.pdf;',//文件后缀限制
                height: 20,//高度
                onUploadSuccess: function (file, data, response) {//上传成功后事件
                    alert(data);
                    if (data.info.code=="S001") {//data 返回值自己在后端自定义
                        alert("上传成功...");
                    }
                },
                onUploadStart:function(file){
                    $("#uploadify").uploadify("settings", "formData", { 'app': $("#app").val()});
                }
            });
        },10)
    });

</script>